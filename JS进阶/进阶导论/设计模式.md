## è®¾è®¡æ¨¡å¼

> æ¯ä¸€ä¸ªæ¨¡å¼æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠè¯¥é—®é¢˜çš„è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒã€‚è¿™æ ·ï¼Œä½ å°±èƒ½ä¸€æ¬¡åˆä¸€æ¬¡åœ°ä½¿ç”¨è¯¥æ–¹æ¡ˆè€Œä¸å¿…åšé‡å¤åŠ³åŠ¨ã€‚ â€”â€” Christopher Alexander

### SOLID åŸåˆ™ï¼š

> "SOLID" æ˜¯ç”±ç½—ä¼¯ç‰¹Â·CÂ·é©¬ä¸åœ¨ 21 ä¸–çºªæ—©æœŸå¼•å…¥çš„è®°å¿†æœ¯é¦–å­—æ¯ç¼©ç•¥å­—ï¼ŒæŒ‡ä»£äº†é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡è®¾è®¡çš„äº”ä¸ªåŸºæœ¬åŸåˆ™ã€‚

1. å•ä¸€åŠŸèƒ½åŸåˆ™ï¼ˆSingle Responsibility Principleï¼‰è¦æœ‰â€œå°è¯•æ‹†åˆ†â€çš„æ•æ„Ÿï¼Œå…¶æ¬¡è¦æœ‰â€œè¯¥ä¸è¯¥æ‹†â€çš„åˆ¤æ–­â€”â€”å½“é€»è¾‘ç²’åº¦è¿‡å°æ—¶ï¼Œç›²ç›®æ‹†åˆ†ä¼šå¯¼è‡´ä½ çš„é¡¹ç›®é‡Œå­˜åœ¨è¿‡å¤šçš„é›¶ç¢çš„å°æ–¹æ³•ï¼Œè¿™åè€Œä¸ä¼šä½¿æˆ‘ä»¬çš„ä»£ç å˜å¾—æ›´å¥½ã€‚
2. å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOpened Closed Principleï¼‰ï¼šå¯¹æ‹“å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚
3. é‡Œå¼æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰
4. æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰
5. ä¾èµ–åè½¬åŸåˆ™ï¼ˆDependency Inversion Principleï¼‰

**è®¾è®¡æ¨¡å¼çš„æ ¸å¿ƒæ€æ˜¯ï¼šå°è£…å˜åŒ–** æˆ‘ä»¬å°†å˜æ¢é€ æˆçš„å½±å“ **æœ€å°åŒ–**ï¼Œå°†å˜ä¸ä¸å˜è¿›è¡Œåˆ†ç¦»ï¼Œç¡®ä¿å˜åŒ–çš„éƒ¨åˆ†çµæ´»å³ï¼šä¸ªæ€§ï¼Œä¸å˜çš„éƒ¨åˆ†ç¨³å®šå³ï¼šå…±æ€§ã€‚è€Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ **å°è£…å˜åŒ–**ã€‚

ğŸŒˆ **ç®€å•å·¥å‚ï¼š** å°†åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å•ç‹¬å°è£…ã€‚

> ğŸŒ° è¦æ±‚ä¸€ä¸ªç³»ç»Ÿå…·å¤‡ç»™ä¸åŒå·¥ç§åˆ†é…èŒè´£è¯´æ˜çš„åŠŸèƒ½ã€‚

```js
function User(name , age, career, work) {
    this.name = name
    this.age = age
    this.career = career
    this.work = work
}

function Factory(name, age, career) {
    let work
    switch(career) {
        case 'coder':
            work =  ['å†™ä»£ç ','å†™ç³»åˆ†', 'ä¿®Bug']
            break
        case 'product manager':
            work = ['è®¢ä¼šè®®å®¤', 'å†™PRD', 'å‚¬æ›´']
            break
        case 'boss':
            work = ['å–èŒ¶', 'çœ‹æŠ¥', 'è§å®¢æˆ·']
        case 'xxx':
            // å…¶å®ƒå·¥ç§çš„èŒè´£åˆ†é…
            ...

    return new User(name, age, career, work)
}
// æˆ‘ä»¬æ€è€ƒä¸€ä¸‹è¿™é‡Œçš„å˜ä¸ä¸å˜åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
1. å…±æ€§ï¼š  nameã€ageã€careerã€work
2. ä¸ªæ€§ï¼š  å–å€¼ä¸åŒ

// é€šè¿‡åˆ†æç„¶åä»¥è¿™æ ·çš„æ–¹å¼è¿›è¡Œå®ç°ï¼Œæˆ‘ä»¬è¦è€ƒè™‘çš„äº‹æƒ…å°±ä¼šç®€å•å¾ˆå¤šï¼Œæˆ–è®¸ä½ ä¼šå†™å‡ºè¿™æ ·çš„ä»£ç ï¼š

function Factory(name, age, career) {
    switch(career) {
        case 'coder':
            return new Coder(name, age)
            break
        case 'product manager':
            return new ProductManager(name, age)
            break
        ...
}

// è¿™æ ·ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦æ¯å¾—åˆ°ä¸€æ¡æ•°æ®éƒ½è¦å»åˆ¤æ–­å‘˜å·¥çš„å·¥ç§ï¼Œå¹¶å»ä¸ºæ¯ä¸€ä¸ªå·¥ç§åˆ†é…ä¸€ä¸ªæ„é€ å™¨å‘¢ï¼Ÿ
```

ğŸŒˆ **æŠ½è±¡å·¥å‚ï¼š**

ğŸŒˆ **å•ä¾‹æ¨¡å¼ï¼š** ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹

- å•ä¾‹æ¨¡å¼è¦ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹,å¹¶ä¸”æä¾›ç»™å…¨å±€è®¿é—®,ä¸»è¦ç”¨äºè§£å†³ä¸€ä¸ªå…¨å±€ä½¿ç”¨çš„ç±»é¢‘ç¹åˆ›å»ºå’Œé”€æ¯çš„é—®é¢˜,é€šè¿‡åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦å­˜åœ¨è¿™ä¸ªå•ä¾‹æ¥è§£å†³è¿™æ ·çš„é—®é¢˜,å¦‚æœæœ‰è¿™ä¸ªå•ä¾‹åˆ™è¿”å›è¿™ä¸ªå•ä¾‹,å¦åˆ™å°±åˆ›å»ºè¿™ä¸ªå•ä¾‹,åªè¦ä¿è¯æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„å³å¯

  - ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹: å°†è¯¥ç±»çš„æ„é€ æ–¹æ³•å®šä¹‰ä¸ºç§æœ‰æ–¹æ³•å³å¯
  - æä¾›å…¨å±€ä¸€ä¸ªè¯¥å®ä¾‹çš„è®¿é—®ç‚¹: å•ä¾‹ç±»è‡ªå·±åˆ›å»ºå®ä¾‹,æä¾›ä¸€ä¸ªé™æ€æ–¹æ³•ä½œä¸ºå®ä¾‹çš„è®¿é—®ç‚¹å³å¯
  - é€šä¿—ç‚¹è®²å°±æ˜¯ï¼Œä¸ç®¡å°è¯•å¤šå°‘æ¬¡çš„åˆ›å»ºï¼Œéƒ½åªä¼šè¿”å›ç¬¬ä¸€æ¬¡åˆ›å»ºé‚£å”¯ä¸€çš„ä¸€ä¸ªå®ä¾‹ï¼›æ¥ä¸‹æ¥å®ç°ä¸€ä¸‹ï¼š

- **é¥¿æ±‰å’Œæ‡’æ±‰æ¯”è¾ƒ**:
  - **æ‡’æ±‰**: å•ä¾‹ç±»å¯¹è±¡å®ä¾‹æ‡’åŠ è½½,ä¸ä¼šæå‰åˆ›å»ºå¯¹è±¡å®ä¾‹,åªæœ‰åœ¨ä½¿ç”¨å¯¹è±¡å®ä¾‹çš„æ—¶å€™æ‰ä¼šåˆ›å»ºå¯¹è±¡å®ä¾‹
  - **é¥¿æ±‰**: åœ¨å•ä¾‹å¯¹è±¡å®ä¾‹è¿›è¡Œå£°æ˜å¼•ç”¨æ—¶å°±è¿›è¡Œå®ä¾‹åŒ–åˆ›å»ºå¯¹è±¡å®ä¾‹
- å•ä¾‹æ¨¡å¼é™¤å»çº¿ç¨‹ä¸å®‰å…¨çš„æ‡’æ±‰,é€šå¸¸æœ‰äº”ç§å®ç°æ–¹å¼:
  - æ‡’æ±‰
  - åŒæ£€é”
  - é¥¿æ±‰
  - é™æ€å†…éƒ¨ç±»
  - æšä¸¾
- ä¸€èˆ¬æƒ…å†µä¸‹,ç›´æ¥ä½¿ç”¨é¥¿æ±‰å®ç°å•ä¾‹æ¨¡å¼
- å¦‚æœæ˜ç¡®è¦æ±‚æ‡’åŠ è½½é€šå¸¸ä½¿ç”¨é™æ€å†…éƒ¨ç±»å®ç°å•ä¾‹æ¨¡å¼

> é™æ€ç±» Static :
>
> - é™æ€ç±»åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ç›´æ¥åˆå§‹åŒ–,ä¹Ÿä¸éœ€è¦åœ¨å»¶è¿ŸåŠ è½½ä¸­ä½¿ç”¨
> - åœ¨ä¸éœ€è¦ç»´æŒä»»ä½•çŠ¶æ€,ä»…ä»…ç”¨äºå…¨å±€è®¿é—®æ—¶,ä½¿ç”¨é™æ€ç±»çš„æ–¹å¼æ›´åŠ æ–¹ä¾¿
> - å¦‚æœéœ€è¦è¢«ç»§æ‰¿æˆ–è€…éœ€è¦ç»´æŒä¸€äº›ç‰¹å®šçŠ¶æ€ä¸‹çš„æƒ…å†µ,å°±é€‚åˆä½¿ç”¨å•ä¾‹æ¨¡å¼

```js
// çº¿ç¨‹ä¸å®‰å…¨æ‡’æ±‰
1. ä½¿ç”¨äº†æ‡’åŠ è½½
2. å­˜åœ¨å½“å¤šä¸ªçº¿ç¨‹å¹¶è¡Œè°ƒç”¨ getInstance() æ–¹æ³•æ—¶ï¼Œå›åˆ°åˆ›å»ºå¤šä¸ªå®ä¾‹å¯¹è±¡çš„é—®é¢˜ï¼›ä¹Ÿå°±æ˜¯è¯´å¤šçº¿ç¨‹æ¨¡å¼ä¸‹æ˜¯æ— æ³•æ­£å¸¸å·¥ä½œçš„ã€‚

class SingleDog {
  show() {
    console.log("æˆ‘æ˜¯ä¸€ä¸ªå•ä¾‹å¯¹è±¡");
  }
  static getInstance() {
    // åˆ¤æ–­æ˜¯å¦å·²ç»newè¿‡1ä¸ªå®ä¾‹
    if (!SingleDog.instance) {
      // è‹¥è¿™ä¸ªå”¯ä¸€çš„å®ä¾‹ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå…ˆåˆ›å»ºå®ƒ
      SingleDog.instance = new SingleDog();
    }
    // å¦‚æœè¿™ä¸ªå”¯ä¸€çš„å®ä¾‹å·²ç»å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›
    return SingleDog.instance;
  }
}

const s1 = SingleDog.getInstance();
const s2 = SingleDog.getInstance();

// true
s1 === s2;

// é™¤äº†æ¥¼ä¸Šè¿™ç§å®ç°æ–¹å¼ä¹‹å¤–ï¼ŒgetInstanceçš„é€»è¾‘è¿˜å¯ä»¥ç”¨é—­åŒ…æ¥å®ç°ï¼š

SingleDog.getInstance = (function () {
  // å®šä¹‰è‡ªç”±å˜é‡instanceï¼Œæ¨¡æ‹Ÿç§æœ‰å˜é‡
  let instance = null;
  return function () {
    // åˆ¤æ–­è‡ªç”±å˜é‡æ˜¯å¦ä¸ºnull
    if (!instance) {
      // å¦‚æœä¸ºnullåˆ™newå‡ºå”¯ä¸€å®ä¾‹
      instance = new SingleDog();
    }
    return instance;
  };
})();
```

**âœ¨ ç†è§£ Vuex ä¸­çš„ Storeï¼š** [https://vuex.vuejs.org/zh/]: Vuex å®˜æ–¹æ–‡æ¡£

> Vuex ä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œç”¨ä¸€ä¸ªå¯¹è±¡å°±åŒ…å«äº†å…¨éƒ¨çš„åº”ç”¨å±‚çº§çŠ¶æ€ã€‚è‡³æ­¤å®ƒä¾¿ä½œä¸ºä¸€ä¸ªâ€œå”¯ä¸€æ•°æ®æº (SSOT)â€è€Œå­˜åœ¨ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œæ¯ä¸ªåº”ç”¨å°†ä»…ä»…åŒ…å«ä¸€ä¸ª store å®ä¾‹ã€‚å•ä¸€çŠ¶æ€æ ‘è®©æˆ‘ä»¬èƒ½å¤Ÿç›´æ¥åœ°å®šä½ä»»ä¸€ç‰¹å®šçš„çŠ¶æ€ç‰‡æ®µï¼Œåœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­ä¹Ÿèƒ½è½»æ˜“åœ°å–å¾—æ•´ä¸ªå½“å‰åº”ç”¨çŠ¶æ€çš„å¿«ç…§ã€‚ â€”â€”Vuex å®˜æ–¹æ–‡æ¡£

â— æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ Vuex å¦‚ä½•ç¡®ä¿å”¯ä¸€æ€§ï¼š

- vuex æ’ä»¶æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»–åœ¨å†…éƒ¨å®ç°äº†ä¸€ä¸ª install æ–¹æ³•ï¼Œåœ¨æ’ä»¶å®‰è£…æ˜¯ä¼šè¢«è°ƒç”¨ï¼Œä»è€Œå®ç°åœ¨ Vue çš„å®ä¾‹ä¸­æ³¨å…¥ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯ install ä¸€æ¬¡ï¼Œéƒ½ä¼šå°è¯•ç»™ Vue å®ä¾‹æ³¨å…¥ä¸€ä¸ª Storeã€‚

```js
let Vue // è¿™ä¸ªVueçš„ä½œç”¨å’Œæ¥¼ä¸Šçš„instanceä½œç”¨ä¸€æ ·
...

export function install (_Vue) {
  // åˆ¤æ–­ä¼ å…¥çš„Vueå®ä¾‹å¯¹è±¡æ˜¯å¦å·²ç»è¢«installè¿‡Vuexæ’ä»¶ï¼ˆæ˜¯å¦æœ‰äº†å”¯ä¸€çš„stateï¼‰
  if (Vue && _Vue === Vue) {
    if (process.env.NODE_ENV !== 'production') {
      console.error(
        '[vuex] already installed. Vue.use(Vuex) should be called only once.'
      )
    }
    return
  }
  // è‹¥æ²¡æœ‰ï¼Œåˆ™ä¸ºè¿™ä¸ªVueå®ä¾‹å¯¹è±¡installä¸€ä¸ªå”¯ä¸€çš„Vuex
  Vue = _Vue
  // å°†Vuexçš„åˆå§‹åŒ–é€»è¾‘å†™è¿›Vueçš„é’©å­å‡½æ•°é‡Œ
  applyMixin(Vue)
}

// å•ä¾‹çš„æ„ä¹‰åœ¨äºï¼šå½“æˆ‘ä»¬åœ¨ä¸çŸ¥æƒ…ä¸æ³¨æ„çš„æƒ…å†µä¸‹å¤šæ¬¡æ³¨å†Œäº†æ–°çš„Storeï¼Œé‚£ä¹ˆåœ¨ä¸¤æ¬¡æ³¨å†Œä¹‹é—´æ‰€å­˜å‚¨çš„æ•°æ®éƒ½ä¼šä¸¢å¤±
```

ğŸ”” é€šè¿‡ä»¥ä¸Šçš„ç†è§£æ¥å®ç°ä¸€ä¸ª **Storage**

- å®ç° Storageï¼Œä½¿å¾—è¯¥å¯¹è±¡ä¸ºå•ä¾‹ï¼ŒåŸºäº localStorage è¿›è¡Œå°è£…ã€‚å®ç°æ–¹æ³• setItem(key,value) å’Œ getItem(key)ã€‚

```js
// é™æ€ç‰ˆ
class Storage(){
	static getInstance(){
		if(!Storage.instance){
			Storage.instance = new Storage()
		}
		return Storage.instance
	}

	getItem(key){
		return localStorage.getItem(key)
	}

	setItem(key, vlaue){
		return localStorage.setItem(key, value)
	}
}

// é—­åŒ…ç‰ˆ
// â“ æˆ‘ä»¬åœ¨åˆ©ç”¨ä¸Šè¾¹å®ç°çš„æ–¹å¼å¦‚ä½•æ¥ä½¿å®ä¾‹å¯ä»¥æœ‰ get å’Œ set çš„æ–¹æ³•å‘¢ï¼Ÿ
// 		åº”è¯¥è‡ªç„¶è€Œç„¶çš„æƒ³åˆ°å°†è¿™ä¸¤ä¸ªæ–¹æ³•æ”¾åœ¨æ„é€ å‡½æ•°çš„åŸå‹é“¾ä¸Šï¼›
function StorageBase(){}
StorageBase.prototype.getItem = (key) => localStorage.getItem(key)
StorgaeBase.prototype.setItem = (key, value) => localStorage.setItem(key, value)

const Storage = (function(){
	let instacne = null
	if(!instance){
		instance = new StorageBase()
	}
	return instance
})()
```

ğŸŒˆ **è£…é¥°å™¨æ¨¡å¼ï¼š**

> è£…é¥°å™¨åº”ç”¨åœºæ™¯ï¼šåœ¨æœªç™»å½•çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æŒ‰é’®åœ¨ç‚¹å‡»åéƒ½ä¼šå¼¹å‡ºâ€˜æœªç™»å½•â€™çš„æç¤ºä¿¡æ¯ã€‚

```html
<style>
  #modal {
    height: 200px;
    width: 200px;
    line-height: 200px;
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    border: 1px solid black;
    text-align: center;
  }
</style>
<body>
  <button id="open">ç‚¹å‡»æ‰“å¼€</button>
  <button id="close">å…³é—­å¼¹æ¡†</button>
</body>
<script>
  // å¼¹æ¡†åˆ›å»ºé€»è¾‘ï¼Œè¿™é‡Œæˆ‘ä»¬å¤ç”¨äº†å•ä¾‹æ¨¡å¼é¢è¯•é¢˜çš„ä¾‹å­
  const Modal = (function () {
    let modal = null;
    return function () {
      if (!modal) {
        modal = document.createElement("div");
        modal.innerHTML = "æ‚¨è¿˜æœªç™»å½•å“¦~";
        modal.id = "modal";
        modal.style.display = "none";
        document.body.appendChild(modal);
      }
      return modal;
    };
  })();

  // ç‚¹å‡»æ‰“å¼€æŒ‰é’®å±•ç¤ºæ¨¡æ€æ¡†
  document.getElementById("open").addEventListener("click", function () {
    // æœªç‚¹å‡»åˆ™ä¸åˆ›å»ºmodalå®ä¾‹ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜å ç”¨
    const modal = new Modal();
    modal.style.display = "block";
  });

  // ç‚¹å‡»å…³é—­æŒ‰é’®éšè—æ¨¡æ€æ¡†
  document.getElementById("close").addEventListener("click", function () {
    const modal = document.getElementById("modal");
    if (modal) {
      modal.style.display = "none";
    }
  });
</script>
```

> éšç€ä¸šåŠ¡çš„å¢åŠ ã€è¿­ä»£ï¼Œå¯èƒ½åœ¨ä¸åŒçš„åœ°æ–¹éœ€è¦é€‚é…ä¸åŒçš„æç¤ºå†…å®¹ï¼Œäºæ˜¯ä¾¿æœ‰äº†è£…é¥°å™¨ï¼š
> ç°åœ¨æˆ‘ä»¬é€šè¿‡è£…é¥°å™¨å¯¹å®ƒå·²æœ‰çš„åŠŸèƒ½åšæ‹“å±•ï¼Œåªå…³å¿ƒæ‹“å±•å‡ºæ¥çš„é‚£éƒ¨åˆ†åŠŸèƒ½å¦‚ä½•å®ç°ã€‚

æ¥ä¸‹æ¥ï¼Œä¸ºäº†ä¸è¢«å·²æœ‰çš„ä¸šåŠ¡é€»è¾‘å¹²æ‰°ï¼Œæˆ‘ä»¬ç°å°†æ–°æ—§é€»è¾‘è¿›è¡Œåˆ†ç¦»ï¼ŒæŠŠæ—§çš„é€»è¾‘åˆ†ç¦»å‡ºå»ï¼š

```js
// å°†å±•ç¤ºmodalçš„ä¸šåŠ¡å•ç‹¬æŠ½å‡ºæ¥ï¼š
function openModal() {
  const modal = new Modal();
  modal.style.display = "block";
}

// æ–°éœ€æ±‚ï¼šåœ¨æç¤ºç™»å½•çš„æƒ…å†µä¸‹ç¦ç”¨æŒ‰é’®ï¼Œä¿®æ”¹æ–°çš„æç¤ºç³»ä¿¡æ¯ï¼›
// ç¦ç”¨
function disableBtn() {
  const btn = document.getElementById("open");
  btn.setAttribute("disable", true);
}

// ä¿®æ”¹æç¤ºä¿¡æ¯
function changeShowText() {
  const btn = document.getElementById("open");
  btn.innerText = "å°šæœªç™»å½•ï¼";
}

// æ•´åˆ
function changeBtnStatus() {
  disableBtn();
  changeShowTex();
}

// ç„¶åå°†æ–°çš„ä¸šåŠ¡é€»è¾‘æ·»åŠ åˆ°æŒ‰é’®çš„ç›‘å¬å‡½æ•°å³å¯
document.getElementById("open").addEventListenner("click", () => {
  openModal();
  changeBtnStatus();
});
// è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†åªæ·»åŠ ï¼Œä¸ä¿®æ”¹çš„è£…é¥°å™¨æ¨¡å¼ã€‚

// âœ¨ æˆ‘ä»¬å†ä»¥ä¸€ç§é¢å‘å¯¹è±¡çš„æ–¹å¼æ¥å®ç°ä¸€ä¸‹è¿™ä¸ªé€»è¾‘
class OpenBtn {
  // æ—§é€»è¾‘ æç¤ºæ¡†çš„å±•ç¤º
  onClick() {
    const modal = new Modal();
    modal.style.display = "block";
  }
}

// å®šä¹‰å¯¹åº”çš„è£…é¥°å™¨
class Decorator {
  // è·å–åŸå…ˆæŒ‰é’®çš„é€»è¾‘
  constructor(btn) {
    this.open_btn = btn;
  }

  // å°†ç‚¹å‡»äº‹ä»¶é‡å†™
  onClick() {
    this.open_btn.onClick();
    this.changeBtnStatus();
  }

  changeButtonStatus() {
    this.changeButtonText();
    this.disableButton();
  }

  disableButton() {
    const btn = document.getElementById("open");
    btn.setAttribute("disabled", true);
  }

  changeButtonText() {
    const btn = document.getElementById("open");
    btn.innerText = "å¿«å»ç™»å½•";
  }
}

const openButton = new OpenButton();
const decorator = new Decorator(openButton);

document.getElementById("open").addEventListener("click", function () {
  // openButton.onClick()
  // æ­¤å¤„å¯ä»¥åˆ†åˆ«å°è¯•ä¸¤ä¸ªå®ä¾‹çš„onClickæ–¹æ³•ï¼ŒéªŒè¯è£…é¥°å™¨æ˜¯å¦ç”Ÿæ•ˆ
  decorator.onClick();
});

// è¿™æ ·æˆ‘ä»¬ä¹Ÿå°±å®ç°äº†æƒ³è¦çš„éœ€æ±‚
```

> ğŸ”” å¦‚ä½•ç”¨å¥½è£…é¥°å™¨ï¼šè£…é¥°å™¨çš„ä¼˜åŠ¿åœ¨äºå…¶çµæ´»æ€§å’Œå¯å¤ç”¨æ€§ï¼Œè£…é¥°å™¨çš„æœ¬è´¨ä¾æ—§æ˜¯ä¸€ä¸ªå‡½æ•°å¹¶ä¸”å¾€å¾€ä¸ä¾èµ–å…¶ä»–çš„é€»è¾‘ã€‚
